<!-- Created by Esteban Araujo-Fervenza - x20170416
                Jose Carlos Kuzolitz Garcia - x20164840
                Samsom	Mihreteab - x  -->

<!-- Indicates this is HTML5-->
<!DOCTYPE html>

<!-- Defines Language-->
<html lang="en">

    <head>
        <!--Defines the char format-->
        <meta charset="utf-8">

        <!--Tab Title and icon-->
        <title>Ludlow Homecare</title>
        <link rel="icon" type="image/png" href="img/LudlowHCfavicon.jpg">
        
        <!-- Search Engine Optimisation -->
		<meta name="description" content="This is a College Project. It's not the official website. You can access the official website on https://ludlowhomecare.co.uk/">
		<meta name="author" content="This is a College Project. It's not the official website. You can access the official website on https://ludlowhomecare.co.uk/">

        <!--Allow ViewPort Visualization, the scale of the website when it load up-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!--Google API JQuery link-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <!-- Font Awesome Library --> 
        <script src="https://kit.fontawesome.com/a076d05399.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <!--Bootstrap link, script and stylesheet-->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        
        <!-- Css file link -->
		<link rel="stylesheet" href="groupCss.css">
		<link rel="stylesheet" href="./MobileView.css">
	
        

    </head>

    <!-- Body of the Website structure -->
    <body>
	
		<!-- Menu: Adapted  from a youtube tutorial: https://www.youtube.com/watch?v=UHSeFxZIuv8&t=981s -->
        <nav class="navBar">

			<!-- Logo (Top Left)-->
            <div class="content">
                <div class="logo"><a href="./index.html"><img src="img/logo.png" alt="logo"></a></div>
				
						<!-- Search Bar setup -->
						<div class="search">
						<!-- Search bar is place into a form in order to process data and it is easier when styling -->
						<form  action="/action_page.php">
						<!-- Search Bar Input -->
						<input type="text" placeholder="Search..." name="search">
						<!-- Search Bar Button -->
						<button type="submit"><i class="fa fa-search"></i></button>
					</form>
				</div>


				<!-- 3 Lines Button (It shows up just on Mobile View) -->
				<div class="icon menu-btn">
                    <i class="fas fa-bars"></i>
                </div>
			
                <div class= "menu-list" id="menu-list">
				   
					<!-- "x" Button (It shows up just on Mobile View) -->
					<div class="icon off-btn"> 
						<!--"X" icon (Font Awesome Library) --> 
                        <i class="fas fa-times"></i>
					</div>
					
					<!-- Menu Buttons -->
                    <div class="menu-options">
                        <a href="./index.html">Home</a>
                        <p></p>
                        <a href="./product.html">Products</a>
						<p></p>
						<!-- Trolly icon (Font Awesome Library) -->
                        <a class="cart" href="./ShoppingCart.html">Shopping Cart <i class="fa fa-shopping-cart"></i><span>0</span></a>
                        <p></p>
                        <a href="./FAQ.html">FAQ</a>
                        <p></p>
                        <a href="./Contact.html">Contact</a>
                    </div>	
				</div>
           
			</div>
        </nav>

        <!--Checkout starts-->
		<div id="plainHeader">

			<section class="checkout-row">
                       
				<div class="cart-holder">
					<div class="cart-header">
						<h5 class="product-title">PRODUCT</h5>
						<h5 class="checkout-price">PRICE</h5>
						<h5 class="checkout-quantity">QTY</h5>
						<h5 class="checkout-total">TOTAL</h5>
					</div>
					<div class="products">

					</div>
				</div>
				<!--  PAYPAL BUTTON from paypal.com-->
				<div id="smart-button-container">
					  <div style="text-align: center;">
						<div style="margin-bottom: 1.25rem;">
						  <p></p>
						  <select id="item-options"><option value="" price=""> -  GBP</option></select>
						  <select style="visibility: hidden" id="quantitySelect"></select>
						</div>
					  <div id="paypal-button-container"></div>
					 </div>
				</div>
				<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=GBP" data-sdk-integration-source="button-factory"></script>
				
			</section>
		</div>


<!--------------------------------------------------------------------------------------------
--------------------------------------------- Footer -----------------------------------------
---------------------------------------------------------------------------------------------->
		
        <div class="section-bottom-links">
                        
            <div class="section-sub-bottom-links">
                <div class="sub-section-bottom-links">
                    <div class="sub-bottom-links-title">
                            <!-- Contact Us Title -->
                            <p>
                                <span>Contact Us</span>
                            </p>
                            <!-- Contact Us Link (Placed into an Unorderd List) -->
                            <ul>
                                <li><a class = "find-us" href="./Contact.html">Find us here</a></li>
                                <li><p id="storeaddress">Ludford Bridge Ind Est, Temeside, Ludlow SY8 1PE, UK</p></li>
                            </ul>
                    </div>
                </div>
            </div>
            <div class="section-sub-bottom-links">
                <div class="sub-section-bottom-links">
                    <div class="sub-bottom-links-title">
                        <!-- Social Media Title -->
                        <p>
                            <span>Social Media</span>
                        </p>
                        <!-- Social Medias Links (Placed into an Unorderd List) -->
                        <ul>
                            <li><a href="https://www.facebook.com/LHomecareLtd/" class="fa fa-facebook"></a></li>
                            <li><a href="https://www.linkedin.com/company/ludlow-homecare-limited/about/" class="fa fa-linkedin"></a></li>
                            <li><a href="https://twitter.com/LudlowHomecare" class="fa fa-twitter"></a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="section-sub-bottom-links">
                <div class="sub-section-bottom-links">
                    <div class="sub-bottom-links-title">
                        <!-- Our Blogs Title -->
                        <p>
                            <span>Our Blogs</span>
                        </p>
                        <!-- Our Blogs Links (Placed into an Unorderd List) -->
                        <ul>
                            <li><a class="blog blog-tips" href="#">Tips & Advice</a></li>
                            <li><a class="blog blog-insp" href="#">Inspiration</a></li>
                            <li><a class="blog blog-calc" href="#">Calculators</a></li>
                            <li><a class="blog blog-shopB" href="#">Shop Brands</a></li>
                        </ul>
                    </div>
                </div>
            </div>   
        </div>

        <footer class="footer">
            <!-- Copyright and W3C validation -->
            <!--W3 Validator gave us this badge when it found no errors in our CSS code for this page-->
            <p>Copyright &copy; Ludlow Homecare &nbsp; <a href="http://jigsaw.w3.org/css-validator/check/referer"><img style="border:0;width:88px;height:31px"
                            src="http://jigsaw.w3.org/css-validator/images/vcss"
                            alt="Valid CSS!" />
                    </a>
            </p>
        </footer>

<!--------------------------------------------------------------------------------------------------
---------------------------------------- Top NavBar Menu Script ------------------------------------
--Script needs to be here to avoid null error. Code  from tutorial: https://youtu.be/UHSeFxZIuv8.--- 
----------------------------- It cannot be called before the object is loaded ----------------------
--------------------------------------------------------------------------------------------------->

<script>	
    const navBar = document.querySelector(".navBar");
    window.onscroll = () =>{
        //if this window screen scrolls beyond point Y=20 add sticky style otherwise remove sticky style
        this.scrollY > 20 ?  navBar.classList.add("sticky") : navBar.classList.remove("sticky"); 	
    }
</script>




    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>
        window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery-slim.min.js"><\/script>')
    </script>
    <script src="../../../../assets/js/vendor/popper.min.js"></script>
    <script src="../../../../dist/js/bootstrap.min.js"></script>
    <script src="../../../../assets/js/vendor/holder.min.js"></script>
    <!--Script needs to be here to avoid null error . It cannot be called before the object is loaded  -->
    <script>
        const navBar = document.querySelector(".navBar");
        window.onscroll = () => {
            this.scrollY > 20 ? navBar.classList.add("sticky") : navBar.classList.remove("sticky"); //if this window screen scrolls beyond point Y=20 add sticky style otherwise remove sticky style	
        }
    </script>
	<!-- PAYPAL script-->
	<script>
		  function initPayPalButton() {
			var shipping = 0;
			var itemOptions = document.querySelector("#smart-button-container #item-options");
		var quantity = parseInt();
		var quantitySelect = document.querySelector("#smart-button-container #quantitySelect");
		if (!isNaN(quantity)) {
		  quantitySelect.style.visibility = "visible";
		}
		var orderDescription = '';
		if(orderDescription === '') {
		  orderDescription = 'Item';
		}
		paypal.Buttons({
		  style: {
			shape: 'rect',
			color: 'gold',
			layout: 'vertical',
			label: 'paypal',
			
		  },
		  createOrder: function(data, actions) {
			var selectedItemDescription = itemOptions.options[itemOptions.selectedIndex].value;
			var selectedItemPrice = parseFloat(itemOptions.options[itemOptions.selectedIndex].getAttribute("price"));
			var tax = (7 === 0) ? 0 : (selectedItemPrice * (parseFloat(7)/100));
			if(quantitySelect.options.length > 0) {
			  quantity = parseInt(quantitySelect.options[quantitySelect.selectedIndex].value);
			} else {
			  quantity = 1;
			}

			tax *= quantity;
			tax = Math.round(tax * 100) / 100;
			var priceTotal = quantity * selectedItemPrice + parseFloat(shipping) + tax;
			priceTotal = Math.round(priceTotal * 100) / 100;
			var itemTotalValue = Math.round((selectedItemPrice * quantity) * 100) / 100;

			return actions.order.create({
			  purchase_units: [{
				description: orderDescription,
				amount: {
				  currency_code: 'GBP',
				  value: priceTotal,
				  breakdown: {
					item_total: {
					  currency_code: 'GBP',
					  value: itemTotalValue,
					},
					shipping: {
					  currency_code: 'GBP',
					  value: shipping,
					},
					tax_total: {
					  currency_code: 'GBP',
					  value: tax,
					}
				  }
				},
				items: [{
				  name: selectedItemDescription,
				  unit_amount: {
					currency_code: 'GBP',
					value: selectedItemPrice,
				  },
				  quantity: quantity
				}]
			  }]
			});
		  },
		  onApprove: function(data, actions) {
			return actions.order.capture().then(function(details) {
			  alert('Transaction completed by ' + details.payer.name.given_name + '!');
			});
		  },
		  onError: function(err) {
			console.log(err);
		  },
		}).render('#paypal-button-container');
	  }
	  initPayPalButton();
	</script>


<!--------------------------------------------------------------------------------------------------
----------------------------------- Shoping Cart and Product Js Script------------------------------
------------------------------- Script needs to be here to avoid null error ------------------------
----------------------------- It cannot be called before the object is loaded ----------------------
--------------------------------------------------------------------------------------------------->
       
        <script src="./product.js"></script>
        <script src="./shoppingCart.js"></script>

    </body>
</html>